{"ast":null,"code":"import React,{useState}from'react';import{GoogleMap,LoadScript}from'@react-google-maps/api';import{MarkerClusterer}from'@googlemaps/markerclusterer';import BeachWeather from'./BeachWeather';import BeachInformation from'./BeachInformation';import axios from'axios';import TideInfo from'./TideInfo';import BeachDescription from'./BeachDescription';import NearbyArticles from'./NearbyArticles';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const containerStyle={width:'100%',height:'600px'};const center={lat:34.0522,// Latitude for Los Angeles, California\nlng:-118.2437// Longitude for Los Angeles, California\n};const BeachInfo=()=>{const[showWeather,setShowWeather]=useState(false);const[beachData,setBeachData]=useState(null);const[beachDesc,setBeachDesc]=useState(null);const[latt,setLatt]=useState(null);const[lngg,setLngg]=useState(null);const[beachname,setBeachName]=useState('');const onMapLoad=async map=>{// const response = await axios.get('/beach.json'); \nconst response=await axios.get(`http://localhost:5001/api/get-data`);const beaches=response.data;const markers=beaches.map(markerData=>{const marker=new window.google.maps.Marker({position:{lat:markerData.lat,lng:markerData.lng},map,title:markerData.info,icon:{url:\"http://maps.google.com/mapfiles/ms/icons/red-dot.png\",scaledSize:new window.google.maps.Size(32,32)}});// Event listener for each marker click\nmarker.addListener('click',async()=>{// Fetch data from the Google Places API\ntry{// Fetch nearby place details using latitude and longitude\nconst nearbySearchResponse=await axios.get(`http://localhost:5001/api/beach-info?lat=${markerData.lat}&lng=${markerData.lng}`);const{nearby,details}=nearbySearchResponse.data;setBeachData(nearby);setBeachDesc(details);setLatt(markerData.lat);setLngg(markerData.lng);setBeachName(markerData.wiki);setShowWeather(true);// Show the weather information\n}catch(error){console.error(\"Error fetching beach data:\",error);alert(\"Failed to fetch beach data.\");}});return marker;});// Initialize MarkerClusterer\nnew MarkerClusterer({markers,map});};return/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-100 min-h-screen p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2/3 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg shadow-lg mb-6\",children:[/*#__PURE__*/_jsx(BeachInformation,{beachData:beachData,beachdesc:beachDesc}),/*#__PURE__*/_jsx(BeachDescription,{beachName:beachname}),/*#__PURE__*/_jsx(TideInfo,{lat:latt,lon:lngg})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-1/3 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg shadow-lg h-full\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold mb-2\",children:\"California Map\"}),/*#__PURE__*/_jsx(LoadScript,{googleMapsApiKey:\"AIzaSyC7iWcY4uYnqSYvzfCvxV4NwJZNsOPJGQk\",children:/*#__PURE__*/_jsx(GoogleMap,{mapContainerStyle:containerStyle,center:center,zoom:9,onLoad:onMapLoad})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(BeachWeather,{showWeather:showWeather,lat:latt,lon:lngg})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(NearbyArticles,{lat:latt,lon:lngg})})]})})]})});};export default BeachInfo;","map":{"version":3,"names":["React","useState","GoogleMap","LoadScript","MarkerClusterer","BeachWeather","BeachInformation","axios","TideInfo","BeachDescription","NearbyArticles","jsx","_jsx","jsxs","_jsxs","containerStyle","width","height","center","lat","lng","BeachInfo","showWeather","setShowWeather","beachData","setBeachData","beachDesc","setBeachDesc","latt","setLatt","lngg","setLngg","beachname","setBeachName","onMapLoad","map","response","get","beaches","data","markers","markerData","marker","window","google","maps","Marker","position","title","info","icon","url","scaledSize","Size","addListener","nearbySearchResponse","nearby","details","wiki","error","console","alert","className","children","beachdesc","beachName","lon","googleMapsApiKey","mapContainerStyle","zoom","onLoad"],"sources":["/Users/csuftitan/Desktop/Cloud Project/beach-info/src/BeachInfo.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { GoogleMap, LoadScript } from '@react-google-maps/api';\nimport { MarkerClusterer } from '@googlemaps/markerclusterer';\nimport BeachWeather from './BeachWeather';\nimport BeachInformation from './BeachInformation';\nimport axios from 'axios';\nimport TideInfo from './TideInfo';\nimport BeachDescription from './BeachDescription';\nimport NearbyArticles from './NearbyArticles';\n\n\n\nconst containerStyle = {\n  width: '100%',\n  height: '600px'\n};\n\nconst center = {\n  lat: 34.0522, // Latitude for Los Angeles, California\n  lng: -118.2437 // Longitude for Los Angeles, California\n};\n\n\n\nconst BeachInfo = () => {\n    const [showWeather, setShowWeather] = useState(false);\n    const [beachData, setBeachData] = useState(null);\n    const [beachDesc, setBeachDesc] = useState(null);\n    const [latt,setLatt] = useState(null);\n    const [lngg,setLngg] = useState(null);\n    const [beachname,setBeachName] = useState('');\n  \n    const onMapLoad = async(map) => {\n        // const response = await axios.get('/beach.json'); \n        const response = await axios.get(`http://localhost:5001/api/get-data`); \n        const beaches = response.data;\n      const markers = beaches.map((markerData) => {\n        const marker = new window.google.maps.Marker({\n          position: { lat: markerData.lat, lng: markerData.lng },\n          map,\n          title: markerData.info,\n          icon: {\n            url: \"http://maps.google.com/mapfiles/ms/icons/red-dot.png\",\n            scaledSize: new window.google.maps.Size(32, 32),\n          },\n        });\n  \n        // Event listener for each marker click\n        marker.addListener('click', async () => {\n  \n          // Fetch data from the Google Places API\n          try {\n            // Fetch nearby place details using latitude and longitude\n            const nearbySearchResponse = await axios.get(\n                `http://localhost:5001/api/beach-info?lat=${markerData.lat}&lng=${markerData.lng}`\n              );              \n              const { nearby, details } = nearbySearchResponse.data;\n              setBeachData(nearby);\n              setBeachDesc(details);\n              setLatt(markerData.lat);\n              setLngg(markerData.lng);\n              setBeachName(markerData.wiki);\n              setShowWeather(true); // Show the weather information\n          } catch (error) {\n            console.error(\"Error fetching beach data:\", error);\n            alert(\"Failed to fetch beach data.\");\n          }\n        });\n  \n        return marker;\n      });\n  \n      // Initialize MarkerClusterer\n      new MarkerClusterer({ markers, map });\n    };\n\n  return (\n    <div className=\"bg-blue-100 min-h-screen p-6\">\n\n      <div className=\"flex\">\n        <div className=\"w-2/3 p-4\">\n          <div className=\"bg-white p-4 rounded-lg shadow-lg mb-6\">\n            <BeachInformation beachData={beachData} beachdesc={beachDesc} />\n            <BeachDescription beachName={beachname}/>\n            <TideInfo lat={latt} lon={lngg} />\n          </div>\n        </div>\n\n        <div className=\"w-1/3 p-4\">\n          <div className=\"bg-white p-4 rounded-lg shadow-lg h-full\">\n            <h2 className=\"text-lg font-semibold mb-2\">California Map</h2>\n            <LoadScript\n              googleMapsApiKey=\"AIzaSyC7iWcY4uYnqSYvzfCvxV4NwJZNsOPJGQk\"\n            >\n              <GoogleMap\n                mapContainerStyle={containerStyle}\n                center={center}\n                zoom={9}\n                onLoad={onMapLoad}\n              />\n            </LoadScript>\n            <div>\n            <BeachWeather showWeather={showWeather} lat={latt} lon={lngg} /></div>\n            <div><NearbyArticles lat={latt} lon={lngg}/></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default BeachInfo;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}