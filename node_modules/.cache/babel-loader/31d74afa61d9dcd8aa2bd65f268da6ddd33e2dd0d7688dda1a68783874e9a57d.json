{"ast":null,"code":"import React,{useState,useEffect}from'react';import weatherData from'./staticWeatherData.json';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BeachWeather=_ref=>{let{showWeather,lat,lon}=_ref;const[weather,setWeather]=useState(null);useEffect(()=>{const fetchWeatherData=async()=>{try{const response=await axios.get('https://api.openweathermap.org/data/2.5/weather',{params:{lat:lat,// Latitude of the beach\nlon:lon,// Longitude of the beach\nappid:'a9bf29a9863981938f4a81407f7bcf90'}});setWeather(response.data);}catch(error){console.error('Error fetching weather data:',error);}};// Only fetch weather data if `showWeather` is true\nif(showWeather&&lat&&lon){fetchWeatherData();}debugger;},[showWeather,lat,lon]);const getBackgroundClass=()=>{if(!weather)return'weather-container';const description=weather.weather[0].description.toLowerCase();if(description.includes('clear'))return'weather-clear';if(description.includes('cloud'))return'weather-cloudy';if(description.includes('rain'))return'weather-rainy';return'weather-container';// Default\n};const convertUnixToTime=unixTime=>{const timezoneOffset=0;const utcDate=new Date(unixTime*1000);const localTime=new Date(utcDate.getTime()+timezoneOffset*1000);return localTime.toLocaleTimeString('en-US',{hour:'2-digit',minute:'2-digit',hour12:true});};const kelvinToCelsius=tempK=>{//return (tempK - 270.15).toFixed(1);\nreturn((tempK-273.15)*1.8+34.5).toFixed(1);};return/*#__PURE__*/_jsx(\"div\",{className:`${getBackgroundClass()} bg-gradient-to-r text-white p-6 rounded-lg shadow-lg mb-6`,children:showWeather&&weather?/*#__PURE__*/_jsxs(\"div\",{children:[getBackgroundClass()==='weather-rainy'&&Array(50).fill().map((_,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"raindrop\"},i)),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-2xl font-bold\",children:[weather.name,\", \",weather.sys.country]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg capitalize\",children:weather.weather[0].description})]}),/*#__PURE__*/_jsx(\"img\",{src:`http://openweathermap.org/img/wn/${weather.weather[0].icon}@2x.png`,alt:\"Weather Icon\",className:\"w-16 h-16\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-4\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-6xl font-semibold\",children:[kelvinToCelsius(weather.main.temp),\"\\xB0F\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-md\",children:[\"Feels Like: \",kelvinToCelsius(weather.main.feels_like),\"\\xB0F\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-black bg-opacity-20 rounded-lg p-3 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:\"Humidity\"}),/*#__PURE__*/_jsxs(\"p\",{children:[weather.main.humidity,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-black bg-opacity-20 rounded-lg p-3 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:\"Wind Speed\"}),/*#__PURE__*/_jsxs(\"p\",{children:[weather.wind.speed,\" m/s\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-black bg-opacity-20 rounded-lg p-3 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:\"Cloudiness\"}),/*#__PURE__*/_jsxs(\"p\",{children:[weather.clouds.all,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-black bg-opacity-20 rounded-lg p-3 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:\"Pressure\"}),/*#__PURE__*/_jsxs(\"p\",{children:[weather.main.pressure,\" hPa\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-black bg-opacity-20 rounded-lg p-3 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:\"Sunrise\"}),/*#__PURE__*/_jsx(\"p\",{children:convertUnixToTime(weather.sys.sunrise)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-black bg-opacity-20 rounded-lg p-3 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:\"Sunset\"}),/*#__PURE__*/_jsx(\"p\",{children:convertUnixToTime(weather.sys.sunset)})]})]})]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-lg\",children:\"Click on the marker to see weather data...\"})});};export default BeachWeather;","map":{"version":3,"names":["React","useState","useEffect","weatherData","axios","jsx","_jsx","jsxs","_jsxs","BeachWeather","_ref","showWeather","lat","lon","weather","setWeather","fetchWeatherData","response","get","params","appid","data","error","console","getBackgroundClass","description","toLowerCase","includes","convertUnixToTime","unixTime","timezoneOffset","utcDate","Date","localTime","getTime","toLocaleTimeString","hour","minute","hour12","kelvinToCelsius","tempK","toFixed","className","children","Array","fill","map","_","i","name","sys","country","src","icon","alt","main","temp","feels_like","humidity","wind","speed","clouds","all","pressure","sunrise","sunset"],"sources":["/Users/csuftitan/Desktop/Cloud Project/beach-info/src/BeachWeather.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport weatherData from './staticWeatherData.json';\nimport axios from 'axios';\n\nconst BeachWeather = ({ showWeather,lat,lon }) => {\n  const [weather, setWeather] = useState(null);\n\n  useEffect(() => {\n    const fetchWeatherData = async () => {\n      try {\n        const response = await axios.get('https://api.openweathermap.org/data/2.5/weather', {\n          params: {\n            lat: lat,              // Latitude of the beach\n            lon: lon,              // Longitude of the beach\n            appid: 'a9bf29a9863981938f4a81407f7bcf90'\n          }\n        });\n        \n        setWeather(response.data);\n      } catch (error) {\n        console.error('Error fetching weather data:', error);\n      }\n    };\n\n    // Only fetch weather data if `showWeather` is true\n    if (showWeather && lat && lon) {\n      fetchWeatherData();\n    }\n    debugger;\n  }, [showWeather, lat, lon]);\n\n  const getBackgroundClass = () => {\n    if (!weather) return 'weather-container';\n    const description = weather.weather[0].description.toLowerCase();\n\n    if (description.includes('clear')) return 'weather-clear';\n    if (description.includes('cloud')) return 'weather-cloudy';\n    if (description.includes('rain')) return 'weather-rainy';\n    return 'weather-container'; // Default\n  };\n\n\n  const convertUnixToTime = (unixTime) => {\n    const timezoneOffset = 0\n    const utcDate = new Date(unixTime * 1000);\n    const localTime = new Date(utcDate.getTime() + timezoneOffset * 1000);\n    return localTime.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', hour12: true });\n  };\n  \n  \n\n  const kelvinToCelsius = (tempK) => {\n    //return (tempK - 270.15).toFixed(1);\n    return ((tempK - 273.15) * 1.8 + 34.5).toFixed(1);\n  };\n\n  return (\n    <div className={`${getBackgroundClass()} bg-gradient-to-r text-white p-6 rounded-lg shadow-lg mb-6`}>\n      {showWeather && weather ? (\n        <div>\n          {/* Raindrop animation if rainy */}\n          {getBackgroundClass() === 'weather-rainy' && Array(50).fill().map((_, i) => (\n            <div key={i} className=\"raindrop\"></div>\n          ))}\n\n          {/* Top Section: City and Weather Icon */}\n          <div className=\"flex items-center justify-between mb-4\">\n            <div>\n              <h3 className=\"text-2xl font-bold\">\n                {weather.name}, {weather.sys.country}\n              </h3>\n              <p className=\"text-lg capitalize\">{weather.weather[0].description}</p>\n            </div>\n            <img\n              src={`http://openweathermap.org/img/wn/${weather.weather[0].icon}@2x.png`}\n              alt=\"Weather Icon\"\n              className=\"w-16 h-16\"\n            />\n          </div>\n\n          {/* Temperature */}\n          <div className=\"text-center mb-4\">\n            <p className=\"text-6xl font-semibold\">\n              {kelvinToCelsius(weather.main.temp)}°F\n            </p>\n            <p className=\"text-md\">Feels Like: {kelvinToCelsius(weather.main.feels_like)}°F</p>\n          </div>\n\n          {/* Additional Details */}\n          <div className=\"grid grid-cols-2 gap-4 text-sm\">\n            <div className=\"bg-black bg-opacity-20 rounded-lg p-3 text-center\">\n              <p className=\"font-semibold\">Humidity</p>\n              <p>{weather.main.humidity}%</p>\n            </div>\n            <div className=\"bg-black bg-opacity-20 rounded-lg p-3 text-center\">\n              <p className=\"font-semibold\">Wind Speed</p>\n              <p>{weather.wind.speed} m/s</p>\n            </div>\n            <div className=\"bg-black bg-opacity-20 rounded-lg p-3 text-center\">\n              <p className=\"font-semibold\">Cloudiness</p>\n              <p>{weather.clouds.all}%</p>\n            </div>\n            <div className=\"bg-black bg-opacity-20 rounded-lg p-3 text-center\">\n              <p className=\"font-semibold\">Pressure</p>\n              <p>{weather.main.pressure} hPa</p>\n            </div>\n            <div className=\"bg-black bg-opacity-20 rounded-lg p-3 text-center\">\n              <p className=\"font-semibold\">Sunrise</p>\n              <p>{convertUnixToTime(weather.sys.sunrise)}</p>\n            </div>\n            <div className=\"bg-black bg-opacity-20 rounded-lg p-3 text-center\">\n              <p className=\"font-semibold\">Sunset</p>\n              <p>{convertUnixToTime(weather.sys.sunset)}</p>\n            </div>\n          </div>\n        </div>\n      ) : (\n        <p className=\"text-center text-lg\">Click on the marker to see weather data...</p>\n      )}\n    </div>\n  );\n};\n\nexport default BeachWeather;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}